<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Visibility Toggling with jQuery</title>
        <!-- build:css /css/styles.<%= grunt.file.readJSON('package.json').version %>.css -->
        <link href="/css/styles.css" rel="stylesheet">
        <link href="/css/syntax.css" rel="stylesheet">
        <link href="/css/responsive.min.css" rel="stylesheet">
        <link href="/css/buttons.css" rel="stylesheet">
        <!-- endbuild -->
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
    </head>
    <body>
        <div class="container">
            <header class="well">
                <h1 class="page-header">Visibility Toggling with jQuery</h1>
                
                <a class="badge badge-success text-white" href="/data-visualization/">« Data Visualization</a>&nbsp;&nbsp;
                
                <a class="badge badge-success text-white" href="/">Home</a>
                
                &nbsp;&nbsp;<a class="badge badge-success text-white" href="/plugeshin/">PluGeSHin »</a>
                
            </header>
            <section>
                <p>User interface design often makes use of showing and hiding blocks of content. It focuses one&#39;s attention to the right 
thing, and it&#39;s fun to do with <a href="http://jquery.com/">jQuery</a>.</p>

<p>I&#39;ll show you how to toggle the visibility on a group of selected elements. I&#39;ll build up from a simple case to the more
complicated ultimate goal.</p>

<p>First, whenever you&#39;re working with jQuery and Javascript, you should probably get your references ready. For online 
references there&#39;s the<a href="http://docs.jquery.com/Main_Page"> jQuery documentation</a> (which is easier to search 
with Google than with the site search, I find) and the <a href="https://developer.mozilla.org/en/javascript">Mozilla 
    Development Center Javascript reference</a> among others. A very nice site to test, store, and share your jQuery 
snippets is <a href="http://jsfiddle.net/">jsFiddle</a>.</p>

<p>Ok, let&#39;s get started. First let&#39;s toggle the visibility of an element with jQuery
using <a href="http://api.jquery.com/toggle/">.toggle()</a>. Since we&#39;re talking about user interfaces, we&#39;ll probably
trigger the toggle with an action, let&#39;s say a <a href="http://api.jquery.com/click/">.click()</a>:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Toggle the visibility of all divs when one is clicked.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="err"> </span><span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">toggle</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://jsfiddle.net/QXZ7p/">jsFiddle example</a></p>

<p>The code above will toggle the visibility of all the divs on a page if an input button is pressed.  The way this works
is that after the document is ready, an event handler is bound to all the &lt;input&gt; elements. The handler waits for
the user to click it. If clicked jQuery selects all the divs on the page and reverses their visibility. If they were
invisible they become visible and vica versa.</p>

<p>Well, this was just to give you a tast of .toggle(), since the above example is pretty crude. Usually you want more
control over which divs appear and disappear. In fact, an often trick part of visibility toggling in jQuery is to make
sure each toggling button is linked uniquely to one block of content. You also want to ensure that when a block of
content appears, all the other similar blocks of content disappears.</p>

<p>I&#39;ll show you two methods of making sure that each time only one block of content appears, while all the other blocks
of content disappears. The first method will only work if all the content blocks are siblings in the DOM. This will
often be the case, since we&#39;ll usually be dealing with semantically related chunks of content. The second way will be a
little trickier but more flexible.</p>

<p>But before we start discussing siblings, let&#39;s make sure we can toggle one specific div with one particular button.
There&#39;s many ways of doing this. I&#39;ll show you how to use individual but related ids for the buttons and the content
divs. Each button will have a name like, &quot;block-x&quot; where &quot;x&quot; is a number, and it&#39;ll have a corresponding content block
with the id &quot;block-x-content&quot;. Now if we have 3 content blocks, we could write one functions to control each block, for
a total of 3 functions, but it&#39;s more convenient and maintainable to generalize. We&#39;re going to use input buttons with
class &quot;.toggler&quot; to toggle the divs. You, of course, don&#39;t have to use buttons, you can use other divs, or images, or
whatever your little heart desires. So, so far we have:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// Toggle the visibility of all divs when one is clicked.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input.toggler&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">toggle</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://jsfiddle.net/N4PDK/">jsFiddle example</a></p>

<p>The most complex part is the line with the toggle. The previous line simply binds an click event handler to all input 
elements with a &quot;toggler&quot; class. The function that is triggered in case of a click is an anonymous function that toggles 
one div. To see witch div gets toggled we&#39;ll look more closely at &quot;$(&quot;#&quot; + $(this).attr(&quot;id&quot;) + &quot;-content&quot; )&quot; . The part 
inside the parentheses is simply a jQuery selector string. The string starts with a literal &quot;#&quot;, so we know that an 
element with a certain ID is getting toggled. The &quot;#&quot; is followed by the &quot;ID&quot; attribute of the element that was clicked. 
So far we have something like $(&quot;#block-x&quot;). This by itself would make the buttons disappear. But we know that each 
button has a corresponding content block. This block is selected by concatenating &quot;-content&quot; to the previous to give us 
a toggling of $(&quot;#block-x-content&quot;). Where is the number in the ID attribute of the INPUT button we clicked. Notice how 
the visibility of each DIV is kept track of separately. .toggle() is doing all the hard work for us.</p>

<p>Well, we&#39;re approaching what we want. The previous example is okay, in that it let&#39;s us toggle things, but it doesn&#39;t 
really feel like we&#39;re concentrating the attention of the user to one pertinent block of information. To achieve that 
end, we must make all the other divs invisible when we make one div visible.</p>

<p>We only have to change one line to achieve this. We&#39;ll go from:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">toggle</span><span class="p">();</span>
</code></pre></div>
<p>to:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">toggle</span><span class="p">().</span><span class="nx">siblings</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
</code></pre></div>
<p>Notice how I chained the methods .siblings() and .hide() onto the previous line. This means that after toggling our 
content block, we&#39;ll select the DOM siblings of that block and make them invisible. This means you have to make sure 
you&#39;ve thought through your HTML. The easy way to do this is to nest all the content divs into a parent div, or if it 
makes sense, maybe to have content LIs in a parent UL or OL.</p>

<p>One final change is that you may not want the content to disappear if a button is pressed twice, so we&#39;ll switch out 
.toggle() with .show() to give:<span class="Apple-style-span" style="font-family: Consolas, Monaco, monospace; font-size: 12px; line-height: 18px; white-space: pre;">​</span></p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// Toggle the visibility of all divs when one is clicked.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input.toggler&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">show</span><span class="p">().</span><span class="nx">siblings</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="http://jsfiddle.net/NeVDs/">jsFiddle example</a></p>

<p>But what if our content DIVs aren&#39;t siblings? They usually should be, just because of the way information is structured on an HTML page, but we really don&#39;t want to count on that. We want the flexibility to toggle any set of elements we want.</p>

<p>To toggle any set of elements we want, all we have to do is create jQuery set of the elements and use .not() in combination with that. I&#39;ll show you how.</p>

<p>First, let&#39;s say that we have 3 content divs. Let&#39;s select all of them with jQuery:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">theDivs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="err">&quot;#</span><span class="nx">block</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="nx">content</span><span class="p">,</span> <span class="err">#</span><span class="nx">block</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="nx">content</span><span class="p">,</span> <span class="err">#</span><span class="nx">block</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="nx">content</span><span class="p">);</span>
</code></pre></div>
<p>So, now theDivs is a jQuery selection of out content DIVs, let&#39;s use that in combination with our click handler and .not() to toggle the appropriate content divs. Except, now I&#39;m going to use an unordered list, so our content will be in LIs. If we&#39;re dealing with unordered lists, we could easy have a situation where all the individual content LIs are not siblings of each other.</p>

<p>To show the corresponding content LI of a button, we&#39;ll still use:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
</code></pre></div>
<p>But now we can&#39;t simply make the siblings disappear. Instead we&#39;ll make everything from our jQuery slection &quot;theDivs&quot; that isn&#39;t the corresponding content LI vanish. Like this:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">theDivs</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">)</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</code></pre></div>
<p>And that&#39;s it! You can of course replace the .show() and .hide() methods with fancier animations like .slideDown() and .slideUp(), but overall we have a relatively simple to implement, generalizable way of toggling the visibility of a group of content divs. The full code will look something like this:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
      <span class="c1">// Create a selection of the content divs of interest</span>
    <span class="kd">var</span> <span class="nx">theDivs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#block-1-content, #block-2-content, #block-3-content&quot;</span><span class="p">);</span>
      <span class="c1">// Toggle the visibility of all divs when one is clicked.</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;input.toggler&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
        <span class="nx">theDivs</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-content&quot;</span> <span class="p">)</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span><span class="err">​</span>
</code></pre></div>
<p><a href="http://jsfiddle.net/NNLzj/">jsFiddle example</a></p>

            </section>
            <footer>
                
                <p class="tags">
    
    <a href="/tags.html#Javascript" class="badge badge-inverse">Javascript</a>&nbsp;
    
    <a href="/tags.html#JQuery" class="badge badge-inverse">JQuery</a>&nbsp;
    
    <a href="/tags.html#toggling" class="badge badge-inverse">toggling</a>&nbsp;
    
    <a href="/tags.html#visibility" class="badge badge-inverse">visibility</a>&nbsp;
    
</p>
                
                <p class="well">To comment <a href="http://twitter.com/home?status=@Peter_Ajtai">tweet @Peter_Ajtai</a> or <a href="https://github.com/pajtai/Netlumination.com/issues">submit an issue on GitHub.</p>
                
                <div class="pull-right">
                    <h3 class="logo"><a href="/">Netlumination</a></h3>
                    
                    <h4 class="pull-right">16 Aug 2010</h4>
                    
                </div>
            </footer>
        </div>
    </body>
</html>