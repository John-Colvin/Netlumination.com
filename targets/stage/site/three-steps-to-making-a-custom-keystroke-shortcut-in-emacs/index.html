<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Three Steps to Making a Custom Keystroke Shortcut in Emacs</title>
        <link href="/css/styles.css" rel="stylesheet">
        <link href="/css/syntax.css" rel="stylesheet">
        <link href="/css/responsive.min.css" rel="stylesheet">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
    </head>
    <body>
        <div class="container">
            <header class="page-header">
                <h1><a href="/">Netlumination</a></h1>
            </header>
            <section>
                <h2>Three Steps to Making a Custom Keystroke Shortcut in Emacs</h2>
                <p>This one&#8217;s short (ish?) and sweet. It describes how to make your own global key bindings for functions of your choice in Emacs.</p>

<ol>
<li>Type <code>C-h b</code> in Emacs. This will bring up a list of all the current keybindings.</li>

<li>Type <code>C-s [KEYBINDING YOU WANT WRITTEN OUT]</code> to double check that the shortcut isn&#8217;t taken using search. For example to check that <code>C-c t</code> isn&#8217;t taken type <code>C-s C-c t</code>.</li>

<li>Modify your .emacs.d/init.el file like this</li>
</ol>
<div class='highlight'><pre><code class='cl'><span class='c1'>;; [USEFUL COMMENTS]</span>
<span class='p'>(</span><span class='nv'>global-set-key</span> <span class='p'>(</span><span class='nv'>kbd</span> <span class='s'>&quot;[KEYSTROKES WRITTEN OUT]&quot;</span><span class='p'>)</span> <span class='ss'>&#39;[FUNCTION</span> <span class='nv'>NAME]</span><span class='p'>)</span>
</code></pre>
</div>
<p>For example to set C-c g to trigger goto-line:</p>
<div class='highlight'><pre><code class='cl'><span class='c1'>;; Define C-c g as a shortcut for goto-line.</span>
<span class='p'>(</span><span class='nv'>global-set-key</span> <span class='p'>(</span><span class='nv'>kbd</span> <span class='s'>&quot;C-c g&quot;</span><span class='p'>)</span> <span class='ss'>&#39;goto-line</span><span class='p'>)</span>
</code></pre>
</div>
<p>That&#8217;s all there is to it. A little bit more about <a href='http://www.gnu.org/software/emacs/manual/html_node/emacs/Rebinding.html'>setting key binding in the GNU Emacs
Manual</a>.</p>

<p>If you want to use a key that you don&#8217;t know the code of simply press, <code>C-c h [KEY OF INTEREST]</code>. For example <code>C-c h [F5]</code> shows: &#8221; is undefined&#8221;, so I would use <code>(kbd &quot;&lt;f5&gt;&quot;)</code></p>

<p>Ok, that&#8217;s it, you don&#8217;t have to read the rest. The rest is just the usual quagmire Â associated with most things in Emacs.</p>

<p>A side note is that there are multiple ways of refering to keybindings in emacs. In this example, I make use of the kbd macro. The <a href='http://www.gnu.org/software/emacs/manual/html_node/emacs/Init-Rebinding.html'>kbd macro converts
keystrokes written out using M-, C-, etc. into a form that can be passed as an argument to global-set-key.</a> Instead of using kbd, you can also write out your keystroke combinations using a Lisp string. This will only work , &#8220;for ASCII characters and Meta-modified ASCII characters.&#8221;</p>
<div class='highlight'><pre><code class='cl'><span class='c1'>;; Alternate definition of C-c g as a shortcut for goto-line using Lisp strings.</span>
<span class='p'>(</span><span class='nv'>global-set-key</span> <span class='s'>&quot;\C-cg&quot;</span> <span class='ss'>&#39;goto-line</span><span class='p'>)</span>
</code></pre>
</div>
<p>Finally, you can use a Lisp vector. Vectors are written in square brackets, and characters in vectors are written with a question mark and slash in front of them.</p>
<div class='highlight'><pre><code class='cl'><span class='c1'>;; Alternate definition of C-c g as a shortcut for goto-line using Lisp vectors.</span>
<span class='p'>(</span><span class='nv'>global-set-key</span> <span class='nv'>[?\C-c</span> <span class='nv'>?\g]</span> <span class='ss'>&#39;goto-line</span><span class='p'>)</span>
</code></pre>
</div>
<p>I usually try the kbd method first, since it will usually work. You can use array to make use of strange keytrokes. Simply type C-q and the keystroke you&#8217;re interested in to insert the code for it.</p>

<p>For example, if we type C-q C-c we get ^C, and C-q g gives simply g, so the example above can also be written like:</p>
<div class='highlight'><pre><code class='cl'><span class='c1'>;; Another alternate definition of C-c g as a shortcut for goto-line using Lisp vectors.</span>
<span class='p'>(</span><span class='nv'>global-set-key</span> <span class='nv'>[?^C</span> <span class='nv'>?g]</span> <span class='ss'>&#39;goto-line</span><span class='p'>)</span>
</code></pre>
</div>
<p>I have to say, that there are some keystrokes whose codes I have trouble getting emacs to understand this way, but using <code>C-c h</code> and kbd will usually do the trick. There&#8217;s certain keys you won&#8217;t be able to use. For example if you&#8217;re on a Windows system and you hit the Windows key while using Emacs in a terminal, you&#8217;ll get the Start menu on Windows instead of a keystroke sent to Emacs.</p>
            </section>
            <footer class="pull-right">
                <h4>12 Apr 2010</h4>
            </footer>
        </div>
    </body>
</html>